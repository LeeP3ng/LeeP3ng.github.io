---
title: æœ¬åœ°SSHå…å¯†ç™»å½•æœåŠ¡å™¨
date: 2020-01-17
updated:
categories:
- SSH
tags:
- SSH
---

<!-- more -->

## å®ç°æ­¥éª¤ï¼ˆMacä¸ºä¾‹ï¼‰

### ä¸€ã€æœ¬åœ°ç”Ÿæˆå…¬é’¥ç§é’¥å¯¹

```
ssh-keygen -t rsa
```

ä¸€è·¯å›è½¦å°±å¯ä»¥äº†ï¼š

![img](/assets/images/ssh/ssh-1.png)

ç”Ÿæˆå®Œæˆåçš„æ–‡ä»¶åœ¨ **~/.ssh/** è·¯å¾„ä¸‹ (ä¸¤ä¸ªæ–‡ä»¶ï¼šid_rsaã€id_rsa.pub)ï¼š

![img](/assets/images/ssh/ssh-2.png)


### äºŒã€æœåŠ¡å™¨ä¸Šç”Ÿæˆå…¬é’¥ç§é’¥å¯¹

åŒæ ·ä½¿ç”¨ **ssh-keygen -t rsa** ç”Ÿæˆï¼š

![img](/assets/images/ssh/ssh-3.png)

å¦‚æœå’Œä¸Šå›¾ç»“æœä¸€æ ·ï¼Œåˆ™è¯´æ˜ç”ŸæˆæˆåŠŸğŸ‘†ğŸ‘†ğŸ‘†

æˆ‘ä»¬å¯ä»¥è¿›å…¥ **~/.ssh/** ç›®å½•ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„æ–‡ä»¶ğŸ‘‡ğŸ‘‡ğŸ‘‡

![img](/assets/images/ssh/ssh-4.png)

### ä¸‰ã€æŠŠæœ¬åœ°å…¬é’¥id_rsa.pubä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š

```
scp id_rsa.pub ubuntu@192.168.70.224:~/.ssh/id_rsa.pub_temp
```

ç¬¬ä¸€æ¬¡çš„æ—¶å€™ä¼šè¦æ±‚æˆ‘ä»¬æ‰‹åŠ¨è¾“å…¥è¿œç¨‹æœåŠ¡å™¨çš„å¯†ç ï¼ŒæŒ‰æç¤ºè¾“å…¥å³å¯ï¼Œ

ä¸ºäº†é˜²æ­¢æ–‡ä»¶åç§°å†²çªï¼Œå¯ä»¥åœ¨åé¢æ·»åŠ ä¸€ä¸ªåç¼€(_temp)ã€‚

### å››ã€å°†å…¬é’¥æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼æ·»åŠ åˆ°æœåŠ¡å™¨authorized_keysæ–‡ä»¶ä¸­

```
cat id_rsa.pub_temp >> authorized_keys
```

è‹¥æœåŠ¡å™¨ä¸Šæ²¡æœ‰ authorized_keys æ–‡ä»¶åˆ™ä¼šè‡ªåŠ¨æ–°å»ºã€‚

æ‰§è¡Œå®Œåï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ authorized_keys æ–‡ä»¶ä¸­æ˜¯å¦æœ‰æˆ‘ä»¬æ–°åŠ è¿›å»çš„å…¬é’¥ï¼š

```
vim authorized_keys
```

![img](/assets/images/ssh/ssh-5.png)

å¦‚æœæœ‰ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬å·²ç»èƒ½å…å¯†ç™»å½•ï¼Œå…å¯†ä¼ è¾“æ–‡ä»¶ç­‰æ“ä½œã€‚